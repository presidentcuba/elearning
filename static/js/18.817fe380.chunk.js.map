{"version":3,"sources":["services/authAPI.js","actions/register.js","pages/RegisterPage/index.js"],"names":["authAPI","login","values","axiosClient","post","register1","register2","dispatch","a","type","REGISTER_REQUEST","status","data","REGISTER_SUCCESS","payload","REGISTER_FAILURE","error","response","schema","yup","shape","hoTen","required","soDT","matches","taiKhoan","min","max","matKhau","email","RegisterPage","useDispatch","useSelector","state","register","useForm","resolver","yupResolver","errors","formState","handleSubmit","handleRegister","control","className","onSubmit","notice","class","placeholder","message","maNhom","href","to"],"mappings":"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","file":"static/js/18.817fe380.chunk.js","sourcesContent":["import axiosClient from \"./axiosClient\";\r\n\r\nconst authAPI = {\r\n    login: (values) => {\r\n        return axiosClient.post(\"/QuanLyNguoiDung/DangNhap\", values);\r\n    },\r\n\r\n    register1: (values) => {\r\n        return axiosClient.post(\"QuanLyNguoiDung/DangKy\", values);\r\n    },\r\n};\r\n\r\nexport default authAPI;","import {REGISTER_REQUEST, REGISTER_SUCCESS, REGISTER_FAILURE} from \"../constants/register\"\r\nimport authAPI  from \"../services/authAPI\"\r\n\r\nexport function register2(values) {\r\n    return async (dispatch) => {\r\n        dispatch({ type: REGISTER_REQUEST });\r\n        try {\r\n            const  status  = \"You've successfully registered!\";\r\n            const { data } = await authAPI.register1(values);\r\n            dispatch({ type: REGISTER_SUCCESS, payload: {data, status}})\r\n        } catch (error) {\r\n            dispatch({\r\n                type: REGISTER_FAILURE, payload: { error: error.response.data}\r\n            });\r\n        }\r\n    }\r\n}","import React, { useRef } from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport qs from \"qs\";\r\nimport * as yup from \"yup\";\r\nimport { useDispatch, useSelector} from \"react-redux\";\r\nimport { register2 } from \"src/actions/register\"\r\nimport { Input, FormGroup, Label, Alert } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Redirect, useLocation } from \"react-router\";\r\n\r\n// Controlled Component: Control tất cả mọi thứ trên giao diện bằng state, props\r\n// Uncontrolled Component: Control giao diện k thông qua state, props\r\n\r\n// Cả useState lẫn useRef đều dùng để lưu trữ data\r\n// Khác: khi state thay đổi component bị render lại, ref thay đổi component không bị render lại\r\n\r\n// Tạo schame validation\r\nconst schema = yup.object().shape({\r\n    hoTen: yup.string()\r\n        .required(\"Họ tên không được để trống\"),\r\n    soDT: yup\r\n        .string().required(\"Điện thoại không được để trống\").matches(/^[0-9]+$/),\r\n    taiKhoan: yup\r\n        .string()\r\n        .required(\"Tài khoản không được để trống\")\r\n        .min(5, \"Tài khoản phải từ 5 đến 20 kí tự\")\r\n        .max(20, \"Tài khoản phải từ 5 đến 20 kí tự\"),\r\n    matKhau: yup.string().required(\"Mật khẩu không được để trống\"),\r\n    email: yup.string().required(\"Email không được để trống\")\r\n});\r\n// Khởi tạo giá trị ban đầu\r\n\r\nexport default function RegisterPage() {\r\n  const dispatch = useDispatch();\r\n  const { status } =  useSelector( (state) => state.register)\r\n  const { register, formState: { errors }, handleSubmit, control,} = useForm({ resolver: yupResolver(schema),});\r\n\r\n  // Xử lý nút submit và gưi thông tin lên server\r\n  const handleRegister = async (values) => {\r\n    dispatch(register2(values)); \r\n  };\r\n\r\n  const notice = (status) => {\r\n    if (status) {\r\n      return  <div className=\"alert alert-success\">{status}</div>\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className=\"form-signup\">\r\n      <form onSubmit={handleSubmit(handleRegister)}>\r\n        <p>Sign Up and Start Learning!</p>\r\n\r\n        {notice(status)}\r\n        \r\n        {/* Tài Khoản */}\r\n        <div className=\"form-group\">\r\n          <i class=\"fas fa-user\"></i>\r\n          <input type=\"text\" placeholder=\"Username\" className=\"form-control\" {...register(\"taiKhoan\")}/>\r\n          {errors.taiKhoan && (\r\n            <div className=\"alert alert-danger\">{errors.taiKhoan.message}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Mật khẩu */}\r\n        <div className=\"form-group\">\r\n          <i class=\"fas fa-lock\"></i>\r\n          <input type=\"password\" placeholder=\"Password\" className=\"form-control\" {...register(\"matKhau\")}/>\r\n          {errors.matKhau && (\r\n            <div className=\"alert alert-danger\">{errors.matKhau.message}</div>\r\n          )}\r\n        </div>\r\n        {/* Họ Tên */}\r\n        <div className=\"form-group\">\r\n          <i class=\"fas fa-user-tag\"></i>\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Fullname\" {...register(\"hoTen\")}/>\r\n          {errors.hoTen && (\r\n            <div className=\"alert alert-danger\">{errors.hoTen.message}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Số điện thoại */}\r\n        <div className=\"form-group\">\r\n          <i class=\"fas fa-mobile-alt\"></i>\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Phone Number\" {...register(\"soDT\")}/>\r\n          {errors.soDT && (\r\n            <div className=\"alert alert-danger\">{errors.soDT.message}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* email */}\r\n        <div className=\"form-group\">\r\n          <i class=\"fas fa-envelope\"></i>\r\n          <input type=\"text\" className=\"form-control\" placeholder=\"Email\" {...register(\"email\")}/>\r\n          {errors.email && (\r\n            <div className=\"alert alert-danger\">{errors.email.message}</div>\r\n          )}\r\n        </div>\r\n        \r\n          {/* Mã nhóm */}\r\n          <div className=\"form-group\">\r\n            <i class=\"fas fa-layer-group\"></i>\r\n            <select className=\"form-control\"  {...register(\"maNhom\")}>\r\n                <option>GP09</option>\r\n            </select>\r\n            {errors.maNhom && (\r\n            <div className=\"alert alert-danger\">{errors.maNhom.message}</div>\r\n          )}\r\n        </div>\r\n\r\n        <button className=\"btn btn-danger btn-signup\">Sign Up</button>\r\n        <div className=\"foward-login\">\r\n          <div className=\"policy\">\r\n              By signing up, you agree to our\r\n              <a href=\"#\"> Terms of Use </a>\r\n              and\r\n                <a href=\"#\"> Privacy Policy</a>\r\n          </div>\r\n          <span>Already have an account?</span>\r\n          <Link to=\"/login\"> Log In</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}