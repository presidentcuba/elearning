(this["webpackJsonpfe62-elearning"]=this["webpackJsonpfe62-elearning"]||[]).push([[16],{134:function(e,a,t){"use strict";var n=t(23),r={getUsers:function(){return n.a.get("/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=GP09")},getUsersByCategory:function(e){var a={maDanhMuc:e,maNhom:"GP09"};return n.a.get("/QuanLyNguoiDung/TimKiemNguoiDung",{params:a})},deleteUsers:function(e){return n.a.delete("/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=".concat(e))},addUsers:function(e){return n.a.post("/QuanLyNguoiDung/ThemNguoiDung",e)},updateUsers:function(e){return n.a.put("/QuanLyNguoiDung/CapNhatThongTinNguoiDung",e)},getUser:function(e){return n.a.get("/QuanLyNguoiDung/TimKiemNguoiDung?MaNhom=GP09&tuKhoa=".concat(e))}};a.a=r},330:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return O}));var n=t(5),r=t(3),s=t(25),c=t(2),l=t(17),o=t(10),i=t(4),u=t.n(i),m=t(7),d=t(42),j=t(134);var b=t(43);var h=t(47);var p=t(331),x=t(1);function O(){var e,a=Object(o.h)().category,t=Object(l.b)(),i=Object(l.c)((function(e){return e.users})).users,O=Object(l.c)((function(e){return e.updateUser})).status,f=Object(c.useState)(!1),g=Object(s.a)(f,2),N=g[0],y=g[1],v=function(){return y(!N)},D=Object(c.useState)({taiKhoan:"",hoTen:"",email:"",soDt:"",matKhau:"",maLoaiNguoiDung:"",maNhom:"GP09"}),U=Object(s.a)(D,2),w=U[0],C=U[1],K=Object(c.useState)(""),L=Object(s.a)(K,2),T=L[0],P=L[1];console.log(O),Object(c.useEffect)((function(e){t(function(e){return function(){var a=Object(m.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:d.b}),a.prev=1,a.next=4,j.a.getUsersByCategory(e);case 4:n=a.sent,r=n.data,t({type:d.c,payload:{data:r}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:d.a,payload:{error:a.t0.response.data}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(e))}),[a]);var k=i.filter((function(e){return""===T||e.taiKhoan.toLowerCase().includes(T.toLocaleLowerCase())?e:void 0}));console.log(k);var E=function(e){var a=Object(r.a)({},w);a[e.target.name]=e.target.value,C(a)},I=function(e){var a;window.confirm("Are you sure?")&&t((a=e,function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:b.b}),e.prev=1,e.next=4,j.a.deleteUsers(a);case 4:e.sent.data,t({type:b.c,payload:{taiKhoan:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:b.a,payload:{error:e.t0.response.data}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()))},F=function(){var e;t((e=w,function(){var a=Object(m.a)(u.a.mark((function a(t){var n,r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:h.b}),a.prev=1,n="Update user success!!",a.next=5,j.a.updateUsers(e);case 5:r=a.sent,s=r.data,t({type:h.c,payload:{data:s,status:n}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t({type:h.a,payload:{error:a.t0.response.data}});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()))};return Object(x.jsxs)("div",{className:"admin-listsuser admin-data",children:[Object(x.jsx)("h3",{className:"admin-title py-3",children:"USER MANAGE"}),Object(x.jsxs)("div",{className:"admin-content",children:[Object(x.jsx)("div",{className:"table-header",children:Object(x.jsxs)("form",{className:"form-group",action:"",children:[Object(x.jsx)("span",{children:"Search:"}),Object(x.jsx)("input",{className:"form-control",onChange:function(e){var a=e.target.value;P(a)},type:"text"})]})}),Object(x.jsx)("div",{className:"table-body",children:Object(x.jsxs)("table",{className:"admin-table table-striped table-bordered",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Id"}),Object(x.jsx)("td",{children:"User Name"}),Object(x.jsx)("td",{children:"Name"}),Object(x.jsx)("td",{children:"Email"}),Object(x.jsx)("td",{children:"Phone Number"}),Object(x.jsx)("td",{children:"User Type"}),Object(x.jsx)("td",{children:"Handle"})]})}),Object(x.jsx)("tbody",{children:k.map((function(e,a){var t;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{"data-label":"Id",className:"id",children:a+1}),Object(x.jsx)("td",{"data-label":"User Name",children:e.taiKhoan}),Object(x.jsx)("td",{"data-label":"User Name",children:e.hoTen}),Object(x.jsx)("td",{"data-label":"Email",children:e.email}),Object(x.jsx)("td",{"data-label":"Phone Number",children:e.soDt}),Object(x.jsx)("td",{"data-label":"User Type",children:e.maLoaiNguoiDung}),Object(x.jsxs)("td",{"data-label":"Handel",children:[Object(x.jsx)("button",(t={onClick:v},Object(n.a)(t,"onClick",(function(){return function(e){y(!N),console.log(N);var a={taiKhoan:e.taiKhoan,hoTen:e.hoTen,email:e.email,soDt:e.soDt,matKhau:"",maLoaiNguoiDung:e.maLoaiNguoiDung,maNhom:"GP09"};C(a)}(e)})),Object(n.a)(t,"className","btn btn-primary mr-2"),Object(n.a)(t,"children",Object(x.jsx)("i",{class:"far fa-edit"})),t)),Object(x.jsx)("button",{onClick:function(){return I(e.taiKhoan)},className:"btn btn-danger",children:Object(x.jsx)("i",{class:"far fa-trash-alt"})})]})]},a)}))})]})})]}),Object(x.jsxs)(p.a,{className:"admin-edit-user",isOpen:N,toggle:v,children:[Object(x.jsxs)("div",{className:"form-group d-flex justify-content-between",children:[Object(x.jsx)("h5",{className:"w-100 text-center",children:"Update User"}),Object(x.jsx)("span",{style:{fontSize:"12px",color:"green"},children:O})]}),Object(x.jsxs)("form",{className:"px-3",onSubmit:function(){return F()},children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"User Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",name:"taiKhoan",value:w.taiKhoan,onChange:E,disabled:!0}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"matKhau",value:w.matKhau,onChange:E}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Full Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Full Name",name:"hoTen",value:w.hoTen,onChange:E}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Phone Number"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Phone Number",name:"soDt",value:w.soDt,onChange:E}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"User Type"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"User Type",name:"maLoaiNguoiDung",value:w.maLoaiNguoiDung,onChange:E}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Group Id"}),Object(x.jsx)("input",(e={type:"text",className:"form-control",placeholder:"Group Id",value:"GP09",name:"maNhom"},Object(n.a)(e,"value",w.maNhom),Object(n.a)(e,"onChange",E),Object(n.a)(e,"disabled",!0),e)),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(x.jsx)("input",{type:"email",className:"form-control",name:"email",value:w.email,onChange:E}),Object(x.jsx)("small",{id:"emailHelp",className:"form-text",style:{color:"red"}})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",children:"Submit"}),Object(x.jsx)("button",{onClick:v,type:"button",className:"btn btn-danger mb-3",children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=16.ebcc14f9.chunk.js.map